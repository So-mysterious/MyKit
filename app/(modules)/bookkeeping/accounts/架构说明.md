# 账户管理模块架构

## 职责
管理所有账户的增删改查，展示账户树状结构及单个账户的详细信息（流水/图表）。

## 组件结构
- **Page (`page.tsx`)**: 顶层容器，处理数据加载 (Server Actions / Cache) 和全局状态。
- **AccountTree**: 左侧侧边栏，展示账户层级结构。
- **AccountDetail**: 右侧详情区域，展示选中账户的指标、图表和流水。
- **Modals**:
  - `CreateAccountModal`: 创建账户/分组。
  - `AccountEditModal`: 编辑账户信息。
  - `CurrencySelectModal`: 为分组添加特定币种户头。

## 数据流
- `page.tsx` 初始化获取 `accounts` (树形) 和 `bookkeepingSettings`。
- 用户点击树节点 -> 更新 `selectedAccount` -> `AccountDetail` 重新渲染并获取该账户的详细数据 (History/Transactions)。
- 修改操作 (Create/Edit/Delete) -> 调用 Server Actions -> 刷新 Cache -> 更新 UI。
